import{r as d,u as p,a as g,j as e,L as x,i as h}from"./index-Cf5QfYOP.js";import{E as o,a as f}from"./errorConstants-iBR-6HTe.js";import{T as N}from"./Title-B9FLkuTP.js";function v(){const[a,i]=d.useState({username:"",email:"",password:""}),[l,m]=d.useState({name:!1,email:!1,password:!1}),c=p();g()==!0&&c("/");const u=async t=>{console.log(a);let s={signupErrors:l},n=!1;if(a.username.length<3?(s={...s,username:!0},n=!0):s={...s,username:!1},h(a.email)==!0?s={...s,email:!1}:(s={...s,email:!0},n=!0),a.password.length<6?(s={...s,password:!0},n=!0):s={...s,password:!1},m({...s}),n==!1)try{let r=await f({...a});console.log(r),(r.statusText="Created")&&(localStorage.setItem("userData",JSON.stringify(r.data)),localStorage.setItem("trackingId",1),window.location="/")}catch(r){console.error("Error while creating user:",r)}};return e.jsx("div",{className:" h-[100vh] flex justify-center items-center p-4 ",children:e.jsxs("div",{className:"bg-white p-5  rounded-md",children:[e.jsxs("h2",{className:"text-center ",children:[" ",e.jsx(N,{text1:"Signup",text2:""})," "]}),e.jsxs("div",{className:"m-5 text-sm",children:[e.jsx("input",{className:"border border-slate-400 rounded-md p-3  w-80",placeholder:"Username",onChange:t=>i({...a,username:t.target.value})}),e.jsx("p",{className:"text-red-600 mt-1",children:l.username==!0&&o.SIGNUP.NAME})]}),e.jsxs("div",{className:"m-5 text-sm",children:[e.jsx("input",{className:"border border-slate-400 rounded-md p-3  w-80",placeholder:"Email",onChange:t=>i({...a,email:t.target.value})}),e.jsx("p",{className:"text-red-600 mt-1",children:l.email==!0&&o.SIGNUP.EMAIL})]}),e.jsxs("div",{className:"m-5 text-sm  ",children:[e.jsx("input",{type:"password",className:"border border-slate-400 rounded-md p-3 w-80",placeholder:"Password",onChange:t=>i({...a,password:t.target.value})}),e.jsx("p",{className:"text-red-600 mt-1",children:l.password==!0&&o.SIGNUP.PASSWORD})]}),e.jsx("div",{className:"m-5 grid",children:e.jsx("button",{className:"bg-[#35ac75] text-white font-semibold py-2 rounded-md text-lg font-sans",onClick:t=>{u()},children:" Signup"})}),e.jsx("div",{className:"m-5 text-center",children:e.jsxs("span",{className:"signup",children:["Already have an account? ",e.jsx(x,{className:"text-[#35ac75] font-medium",to:"/login",children:"Login"})," "]})})]})})}export{v as default};
