import{G as g,r as c,u as h,a as f,j as e,L as u}from"./index-DtPgIYVm.js";import{E as d,s as L}from"./errorConstants-TYbzF440.js";import{T as C}from"./Title-sx3ptn_O.js";function N(r){return g({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M9.608 17.682c-2.558 -.71 -4.76 -2.603 -6.608 -5.682c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"},child:[]},{tag:"path",attr:{d:"M17.8 20.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"},child:[]}]})(r)}function j(r){return g({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M1.47978 1.4797C1.30227 1.65721 1.28614 1.93498 1.43137 2.13072L1.47978 2.1868L4.1695 4.87652C2.88817 5.77616 1.93052 7.11985 1.53259 8.70952C1.46554 8.97738 1.62834 9.24892 1.89621 9.31598C2.16409 9.38298 2.4356 9.22025 2.50266 8.95232C2.85564 7.54225 3.72742 6.35956 4.88944 5.59626L6.09586 6.80278C5.62419 7.28378 5.33334 7.94278 5.33334 8.66965C5.33334 10.1424 6.52724 11.3363 8 11.3363C8.72694 11.3363 9.38587 11.0454 9.86694 10.5738L13.8131 14.5201C14.0084 14.7154 14.3249 14.7154 14.5202 14.5201C14.6977 14.3426 14.7139 14.0649 14.5686 13.8691L14.5202 13.813L10.4445 9.73692L10.4453 9.73592L9.64527 8.93732L7.732 7.02445L7.73334 7.02392L5.81252 5.10513L5.81334 5.10392L5.05782 4.35024L2.18689 1.4797C1.99163 1.28444 1.67504 1.28444 1.47978 1.4797ZM6.80274 7.51025L9.15947 9.86698C8.85947 10.1575 8.4506 10.3363 8 10.3363C7.07954 10.3363 6.33334 9.59012 6.33334 8.66965C6.33334 8.21905 6.51216 7.81018 6.80274 7.51025ZM8 3.66658C7.33314 3.66658 6.68607 3.7653 6.07406 3.94992L6.89874 4.77404C7.25594 4.70346 7.62427 4.66658 8 4.66658C10.6154 4.66658 12.8733 6.45342 13.4981 8.95538C13.565 9.22325 13.8364 9.38618 14.1043 9.31932C14.3723 9.25238 14.5352 8.98098 14.4683 8.71305C13.7329 5.7684 11.077 3.66658 8 3.66658ZM8.1298 6.0061L10.664 8.53992C10.5961 7.16865 9.49814 6.07168 8.1298 6.0061Z"},child:[]}]})(r)}const b=()=>{const[r,x]=c.useState(!1),[o,m]=c.useState({username:"",password:""}),[l,n]=c.useState({username:!1,password:!1,apiError:!1});h(),f()==!0&&(window.location="/");const p=async t=>{console.log(o);let s={loginErrors:l},i=!1;if(o.username.length<3?(s={...s,username:!0},i=!0):s={...s,username:!1},o.password.length<6?(s={...s,password:!0},i=!0):s={...s,password:!1},n({...s}),i==!1)try{let a=await L({...o});console.log(a),(a.statusText="OK")&&(console.log(a),n({apiError:!1}),localStorage.setItem("userData",JSON.stringify(a.data)),localStorage.setItem("token",a.data.accessToken),localStorage.setItem("trackingId",1),window.location="/")}catch(a){n({apiError:!0}),console.error("Error while creating user:",a)}};return e.jsx("div",{className:"h-[100vh] flex justify-center items-center p-4 ",children:e.jsxs("div",{className:"bg-white px-8  rounded-md",children:[e.jsx("div",{className:"text-center",children:e.jsx(C,{text1:"Login",text2:""})}),e.jsxs("div",{className:"m-5 text-sm",children:[e.jsx("input",{className:"border border-slate-400 rounded-md p-3  w-80",placeholder:"Userame",onChange:t=>m({...o,username:t.target.value})}),e.jsx("p",{className:"text-red-600 mt-1",children:l.username==!0&&d.SIGNIN.USERNAME})]}),e.jsxs("div",{className:"m-5 text-sm  relative",children:[e.jsx("input",{type:r?"text":"password",className:"border border-slate-400 rounded-md p-3 w-80 ",placeholder:"Password",onChange:t=>m({...o,password:t.target.value})}),e.jsx("br",{})," ",e.jsx("button",{type:"button",onClick:()=>x(t=>!t),className:"absolute top-4 right-5 text-lg text-gray-600 font-semibold",children:r?e.jsx(j,{}):e.jsx(N,{})}),e.jsxs("p",{className:"mt-2",children:[" ",e.jsx(u,{className:"text-[#35ac75] font-medium ",to:"/reset-password",children:"Forgot password? "})]}),e.jsx("p",{className:"text-red-600 mt-1",children:l.password==!0&&d.SIGNIN.PASSWORD})]}),e.jsxs("div",{className:"m-5 grid",children:[e.jsx("button",{className:"bg-[#35ac75] text-white font-semibold py-2 rounded-md text-lg font-sans",onClick:t=>{p()},children:" Login"}),e.jsx("p",{className:"text-red-600 mt-2 text-center",children:l.apiError==!0&&d.SIGNIN.API_ERROR})]}),e.jsx("div",{className:"m-5 text-center",children:e.jsxs("span",{className:"signup",children:["Don't have an account?",e.jsx(u,{className:"text-[#35ac75] font-medium",to:"/signup",children:" Signup"})," "]})})]})})};export{b as default};
