import{u as p,r as n,C as x,j as e}from"./index-DtPgIYVm.js";import{Q as h,B as u}from"./react-toastify.esm-zCoO4aLQ.js";import{P as g}from"./ProgressBar-1rnQmbvm.js";import{T as y}from"./Title-sx3ptn_O.js";const b="/shopstic/assets/phonePe-6f9j68HQ.png",j="/shopstic/assets/razorpay-oiRsPNHA.jpg",k=()=>{const l=p(),{cartState:s,dispatch:c}=n.useContext(x);console.log(s);const o=`order_${Math.floor(Math.random()*1e6)}`,i=new Date().toISOString(),d=()=>{c({type:"PLACE_ORDER"}),l("/summary",{state:{order_id:o,timestamp:i}})};n.useEffect(()=>{const t=document.createElement("script");return t.src="https://checkout.razorpay.com/v1/checkout.js",t.async=!0,document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]),console.log(s.items);const r=async()=>{var t={key:"rzp_test_8gNHxGCGlM9",amount:"100",currency:"INR",name:"Acme Corp",description:"Test Transaction",image:"https://example.com/your_logo",order_id:o,callback_url:"https://eneqd3r9zrjok.x.pipedream.net/",prefill:{name:"priyanka",email:"gaurav.kumar@example.com",contact:"9000090000"}};const a=new window.Razorpay(t);a.on("payment.failed",function(m){console.error("Payment failed!",m.error),u.error("Payment failed! Please try Cash on delivery.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),a.open()};return e.jsxs("div",{className:"container mx-auto px-4 ",children:[e.jsx(g,{currentStep:2}),e.jsx(y,{text1:"Select Payment",text2:"Method"}),e.jsxs("div",{className:"flex flex-col md:flex-row mt-5 ",children:[e.jsxs("div",{className:"border-2 shadow-lg rounded-lg p-3 md:mx-20 mb-10 md:mb-0",children:[e.jsx("span",{children:"ðŸŸ¢ Cash on Delivery"}),e.jsxs("span",{className:"inline-block ms-5 text-lg font-semibold",children:["Rs.",s.total.toFixed()," "]}),e.jsx("p",{className:"mt-3 text-sm text-gray-700",children:" No discounts applied when you pay on delivery"}),e.jsx("button",{className:"bg-gray-200 rounded-lg p-2 font-semibold mt-5",onClick:d,children:"Place Order"})]}),e.jsxs("div",{className:"border-2 shadow-lg rounded-lg p-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-700 font-semibold",children:[" ðŸŸ¢ Pay online",e.jsxs("span",{className:"inline-block ms-5 text-lg text-green-700 font-semibold",children:["Rs.",s.discountedTotal.toFixed()," "]})]}),e.jsxs("span",{className:"inline-block mt-3 line-through text-xs me-3",children:["Rs.",s.total.toFixed()]}),e.jsxs("span",{className:"inline-block mt-3 text-xs bg-green-300 font-bold px-1 rounded-md",children:["Save Rs.",(s.total-s.discountedTotal).toFixed()]})]}),e.jsx("button",{className:"border-gray-300 rounded-md mt-4 p-2 border-2",onClick:r,children:e.jsx("img",{src:b,className:"h-8 w-32"})}),e.jsx("button",{className:"border-gray-300 ms-3 mt-4 rounded-md p-2 border-2",onClick:r,children:e.jsx("img",{src:j,className:"h-8 w-32"})})]})]}),e.jsx(h,{})]})};export{k as default};
